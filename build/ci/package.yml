parameters:
  configuration: 'Debug'
  contents: ''

steps:
- task: CopyFiles@2
  inputs:
    contents: '${{ parameters.contents }}'
    targetFolder: $(Build.ArtifactStagingDirectory)
    flattenFolders: true
  condition: eq('${{ parameters.configuration }}', 'Release')
  displayName: 'Collect'

- task: PublishBuildArtifacts@1
  inputs:
    pathtoPublish: $(Build.ArtifactStagingDirectory)
    artifactName: libfly
  condition: eq('${{ parameters.configuration }}', 'Release')
  displayName: 'Publish'
